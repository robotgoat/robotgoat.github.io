[{"content":"Addendum To The Solution While replacing the other crimped hoses on the car, I revisited the fuel hose solution. I am a proponent of the KISS (keep it simple, stupid) philosophy and opted to remove the complicated crimp setup on the fuel line coming from the filter. To simplify the hose attachment, the simpler solution is to simply create a raised ring around the metal tube where the fuel hose attaches. This is accomplished by applying a small ring of JB Weld to create the bulbous barb seen on the fuel rail end. This simplifies the attachment and reduces a possible failure point for leaks.\nIntro The BMW E38 7 series is now approaching classic status with the earlier model years already at 25 years of age. As the E38 generation approaches nearly 2 decades on average, it is important to replace the numerous wear and tear items that decay with age, most notably fuel hoses.\nThe Problem The fuel rail on the M62tu engine poses a slight problem in this restoration of fuel hoses. The problem lies in the design of the rubber fuel hose that connects to the fuel rail: it is crimped on the rail and terminates with a BMW quick connect fitting. This post documents how I go about replacing this hose without spending the hundreds on a new fuel rail and hose part from BMW.\nThe Solution The solution is actually very simple. All that needs to be done is to use a dremel or similar cutting tool to cut a slit on the metal piece that crimps the tube to the fuel rail. Once the crimp is removed, it will allow you to remove the old rubber fuel line and crimp.\nAs can be seen, you have a standard dimple end you can slide your replacement 8mm ID fuel hose and use regular fuel hose clamps to secure. This same process can be used for the transmission oil cooler lines to replace the transmission oil hoses.\nWhere it Connects on the Car That\u0026rsquo;s all great, but there\u0026rsquo;s still one small problem. the connection from the fuel rail to the car still uses the quick connect fitting, which we have forgone for a simpler hose and clamp solution. To address this, you will need an 8mm OD compression fitting, a coupler, and a barbed fitting. You basically screw them on and tighten them to the metal fuel pipe and voila, the connections are solved! You do not need to use a thread sealant as the threads on these fittings deform when torqued down, creating the seal. Thus, they are one time use if you take the fittings apart.\n","description":"Replacing unserviceabe BMW M62tu fuel rail hose.","id":1,"section":"posts","tags":["fuel"],"title":"BMW E38 Custom Fuel Rail Hose Replacement","uri":"/en/posts/2022_05_24_bmw-e38-custom-fuel-rail-hose-replacement/"},{"content":"Intro A common modification/upgrade on older BMWs is the removal of the pulley driven engine fan on the water pump and installation of an electrically driven fan. This modification is easy on E46, but slightly more difficult on E38 and E39 as they did not come with a main electric fan from the factory. This modification is performed to reduce the risk of the mechanical fan\u0026rsquo;s blades from shattering, potentially causing havoc to the engine. It also reduces load on the water pump\u0026rsquo;s bearings, theoretically extending its relibility and lifespan. There are also reports on the forums that the removal of the parasitic draw from the clutch driven mechanical fan makes the engine feel more responsive. It is clear the benifits of this modification are a net upgrade, if done properly.\nThus, this post will outline and show how I install a generic electric fan and tune its temperature switch to come on for adequate cooling.\nStay tuned for the complete guide coming later this summer!\nParts Used Spal 30102049 16in curved fan Spal mounting brackets (4x) Davies Craig DC-0444 fan controller and thermatic fan switch ","description":"Guide to removing the mechanical fan clutch and replacing with an electric unit.","id":2,"section":"posts","tags":["cooling"],"title":"BMW E38 Electric Fan Conversion","uri":"/en/posts/2022_04_24_bmw-e38-electric-fan-conversion/"},{"content":"Intro In my previous post, I had detailed a rather rudimentary guide to setting up VLANs on the Mikrotik RB2011 series of routers utilizing the switch chips. As an end of year network audit, I found that the setup I had been using was incomplete and consequently, the first guide on this website is also lacking. To remedy this error, this is version 2 of the RB2011 VLAN guide. The following steps assume you start on the default configuration of the router.\nThis guide will cover the following topics:\nVLAN creation on the router using trunk, hybrid, and dedicated ports implement managed switches and wireless access points using multiple VLANs enable a rudimentary IPV6 setup to function on the respective VLANs secure IPV6 and IPV4 firewall setup the addition of a Pihole DNS sink to function with the VLANs and firewalls Network Summary In my network, I will utilize 3 VLANs, VLANs 20, 50, and 107. All of these VLANs go through the 5 gigabit ports on the RB2011 router that utilize switch chip 1. Eth 1 connects to the ISP provided modem. Eth 2 connects to a managed Mikrotik RB260 switch. A different dumb switch connects on eth 3 the Raspberry Pi connects on eth 4, and a VLAN aware wireless accesspoint connects on eth 5 on the router. From the RB260 switch, a second Dlink managed switch connects to it, with VLANs 50 and 107 being run through it.\nPart 1: Setup VLANs On The Router The network I want to create is more involved than the usual guides, but should provide enough information to be able to add multiple managed switches to the network design of your choice. A diagram of the network we will create in this guide is shown below:\nTo begin, login using the Winbox utility and change the default passwords and update to the latest RouterOS. If you have the RB2011 router with wireless, disable the wifi interface to turn it off. Ideally you want to connect to the router using the marked comms port (eth 8) while configuring your VLANs.\nCreate The VLANs As shown in the main network schematic, we will create three VLANs. VLAN 50 for personal, VLAN 107 for IoT devices, and VLAN 20 for my IP cameras. To do this, in the left hand column, click Interfaces -\u0026gt; VLAN. Then click the + button to add a new VLAN. In the new VLAN Interface window, give the VLAN a name, the ID (the numeric ID eg. VLAN 20 will have ID of 20), and for the interface select \u0026ldquo;bridge.\u0026rdquo; The bridge interface essentially acts as the software bridge that connects all the ports on the router together. The VLANs sit on top of that bridge and in the current RouterOS firmware, the hardware offloading still occurs on this bridge.\nCreate Address Range for VLANs Next, we need to create the address ranges for each VLAN created. Click IP -\u0026gt; Addresses to open the window. Click the + button to add the addresses. In the New Address window, suppose we want to add the full address range on using the 50 subnet for VLAN 50. This is denoted as 192.168.50.1/24. Lastly, under the \u0026ldquo;Interface\u0026rdquo; drop down, select the associated VLAN interface created earlier for the address range.\nCreate DHCP Server For VLANs After creating the address range, we need to create the DHCP server and pool for each VLAN. To do this, click IP -\u0026gt; DHCP Server -\u0026gt; DHCP tab. Then click \u0026ldquo;DHCP Setup\u0026rdquo; and walk through the setup. The defaults should be correct.\nRename Pools (optional) After the DHCP Setup completes, it\u0026rsquo;s not a bad idea to change the DHCP Pool name for ease of readability. To do this, click IP -\u0026gt; Pools. Double click on the pool with the associated address range and rename to your liking.\nAdd Interface List for New VLANs Lastly, we need to create the interface list for each VLAN so that we can configure the private VLAN and group the VLAN interfaces into lists to use in the firwall rules. To do this, click Interfaces -\u0026gt; Interface List -\u0026gt; Lists -\u0026gt; +. In the Interface Lists, click + and simply give a name for each VLAN. Then, go back to the main Interface List window, double click each of the newly created lists and make sure the list name corresponds to the actual VLAN interface created in the earlier step. For the private VLAN (VLAN 50 in my case) change the List column to be LAN in order to be able to access Winbox from the private VLAN.\nPart 2: Configure Switch Chip Switch Chip VLANs The second part consists of configuring the switch chip since the RB2011 has hardware capable VLAN switches. Click Switch -\u0026gt; VLAN -\u0026gt; + to create a New Switch VLAN. In the window, select \u0026ldquo;switch 1.\u0026rdquo; As seen in the schematic, let\u0026rsquo;s first configure VLAN 50. In VLAN ID field, put 50. Click the down arrow in the Ports section and select ether2, ether4, ether5, and switch1 cpu. This signifies that VLAN 50 traffic can be routed on ether ports 2, 4, and 5. Use the same logic for the other VLANs and the ports you want to assign them to.\nSwitch Chip Ports Assignment Next, click on the Ports tab. We want to edit each port\u0026rsquo;s VLAN Mode, VLAN Header, and Default VLAN fields as shown in the columns. To edit those fields, double click the row of the port you want to edit. Let\u0026rsquo;s configure the VLAN rules for ether2. To review, ether2 is to carry VLANs 50 and 107. These VLAN tags will be known, so we set the VLAN mode to secure, VLAN Header to \u0026ldquo;add if missing\u0026rdquo;, and default VLAN ID to 50 (since this is the primary, private VLAN).\nSecure as defined by Mikrotik is: checks tagged traffic against the VLAN Table for ingress traffic, drops all untagged traffic. Both ingress and egress port must be found in the VLAN Table for the appropriate VLAN ID, otherwise traffic is dropped. Add if missing as defined by Mikrotik is: adds a VLAN tag on egress traffic and uses default-vlan-id from the ingress port. Should be used for trunk ports. These correspond to the kind of traffic coming through ether 2.\nNext, edit the remaining ports as shown in the screenshot above to achive the VLAN configuration seen in the schematic. Do not forget to change the last two rows\u0026rsquo; (switch1 cpu and switch2 cpu) VLAN Header to secure for all the VLANs to work.\nPart 3: Configure Managed Switches Now, we need to configure the RB260 managed switch. Login to the switch from the browser and click on the VLAN tab. I made port 1 strictly to use VLAN 20, so the default VLAN ID should be changed to 20 for ingress.\nNext, click the VLANs tab and add VLANs 20, 50, and 107. Since 20 only belongs on port1, select port1 to be \u0026ldquo;leave as is\u0026rdquo;, port5 (the trunk port) as \u0026ldquo;add if missing\u0026rdquo;, and everything else as \u0026ldquo;not a member.\u0026rdquo; Port 5 is the trunk port, so all VLAN entries for that port is \u0026ldquo;add if missing.\u0026rdquo; For VLAN 50, port1 is not a member, and the remaining ports except 5 are \u0026ldquo;leave as is.\u0026rdquo; The same rules are applied to VLAN 107 because this will allow VLAN tags of 107 to run through ports 2-4, while defaulting to 50 if not specified.\nPart 4: Configure Pihole DNS Settings (Optional) If you have a Pihole setup on your network, I have decided to add it to the VLAN 50 network. For this case, replace to-address, src-address, and dst-address with the IP of the Pihole device. To allow this to happen for all devices on the network, open the terminal in Winbox and add the following firewall NAT rules:\n1 2 3 4 5 6 /ip firewall nat add chain=dstnat action=dst-nat to-addresses=PIHOLE protocol=udp src-address=!PIHOLE dst-address=!PIHOLE dst-port=53 add chain=dstnat action=dst-nat to-addresses=PIHOLE protocol=tcp src-address=!PIHOLE dst-address=!PIHOLE dst-port=53 add chain=srcnat action=masquerade protocol=udp dst-address=PIHOLE dst-port=53 add chain=srcnat action=masquerade protocol=tcp dst-address=PIHOLE dst-port=53 With the blanket blacklist firewall principle, an additional two rules need to be added for the Pihole to work, which is explained in the next section.\nPart 5: Configure IPV4 and IPV6 Firewall Rules Lastly, we need to secure the traffic flow with firewall rules for both ipv4 and ipv6. The principle I like to use for firewall rules is a blanket blacklist to block all inter-VLAN routing and access to the internet. This is signified by the last rule in the firewall settings above that states to block all forwarded traffic coming through the router.\nNext, we need to ensure the Pihole will work, so we need to add two rules (one for TCP and UDP traffic) that open all devices on all VLANs to port 53 going to the Pihole\u0026rsquo;s IP address. We also need to change the main DNS settings, so open the DNS window by clicking IP -\u0026gt; DNS. Uncheck Allow Remote Requests and add the IP of the address of the Pihole in the Servers field. If using IPV6, the Pihole\u0026rsquo;s IPV6 will automatically be filled in. Finally, click IP -\u0026gt; DHCP Client, and double click the single row for ether1. Uncheck Peer DNS.\nIPV6 Rules [Coming Soon]\nReferences https://danservices.com.au/support/mikrotik-vlan-configuration-2020/ https://wiki.mikrotik.com/wiki/Manual:Switch_Chip_Features https://wiki.mikrotik.com/wiki/SwOS/RB250-RB260-VLAN-Example https://www.reddit.com/r/mikrotik/comments/7r2rqf/accessing_webfig_or_from_winbox_on_vlan/dstt7yu/ https://forum.mikrotik.com/viewtopic.php?t=144865 https://erikthiart.com/blog/force-all-dns-traffic-to-go-through-pi-hole-using-mikrotik https://www.medo64.com/2018/03/setting-ipv6-on-mikrotik/ https://help.pentanet.com.au/hc/en-us/articles/4403292124691-How-to-configure-a-MikroTik-RouterBoard-router-to-accept-IPv6 ","description":"Revision V2 of the Mikrotik RB2011 series VLAN guide with more details","id":4,"section":"posts","tags":["networking","mikrotik","vlan"],"title":"Revised Mikrotik RB2011 Series VLAN Guide and Setup","uri":"/en/posts/2021_12_25_revised-mikrotik-rb2011-series-vlan-guide/"},{"content":"8 Month Update April 22, 2022 After having daily driven the ECS Tuning coilovers on my stock 325ci for nearly 8 months, I can now confidently say that they are indeed much too harsh for the pockmarked and rough roads of the midwest. On perfectly smooth roads, these coilovers are great and comfortable, but at the slightest perturbation in the road, the comfort declines drastically. The coilovers clunked a lot and the added stiffness and lack of suspension spring travel put too much torsional stress on the chassis. I would often hear the chassis make noises when going over uneven surfaces at an angle. I would be scared the rear glass would crack due to the chassis flex.\nI have now returned to the stock springs and upgraded to Bilstein B4 touring strut/shocks. The ride comfort is vastly better for daily driving and the B4 provide enough stiffness for spirited driving in the corners.\nIntro In my previous post, I had outlined a long list of things I had planned to do on my neglected, high mileage E46 coupe summer project. At long last and a little delayed, the car has been fully restored and refreshed. As part of the refresh, one of the components I failed to find adequate information on were the revised ECS Tuning branded coilovers for the regular E46. Feeling adventureous, I decided to bite the bullet and spend the ~$700 on the coilover kit to test out for myself. The product in question can be found here: https://www.ecstuning.com/b-ecs-parts/ecs-coilovers-e46-non-m/029307ecs01~a/.\nI would like to preface this review by explicitly stating I did not receive any compensation or freebies for this review from ECS. I bought this kit with my own money, so you can be assured this is as unbiased of a review as possible on the internet.\nWith that disclaimer out of the way, I insisted on the ECS Tuning coilovers for several main reasons: name brand, advertised to be comfortable for daily driving on par with an OEM setup, ability to maintain stock ride height. The ECS brand carries some weight and legitimacy, so I decided to put their claims about this coilover kit to the test since my focus for this car is to improve handling while maintaining OEM comfort found in the Sachs dampers.\nUnboxing The coilovers arrive in a thick, well packaged box that presents itself very well.\nThese are all the components of the coilover kit. The brown coating on the threads is copper anti-seize that I have applied to prevent the collar screws from binding if I ever wanted to adjust the height and/or preload.\nInstall Review Without a doubt, the coilovers are a very nice unit that look and feel high quality. However, there are some issues I had during the install that annoyed me enough to reconsider this kit.\nIssue 1: Front Camber Plates There are two main issues I have with these coilovers, both of which reside with the design of the front coilover unit. The first issue is rather minor and shouldn\u0026rsquo;t be a problem for most users. I however noticed it and felt a lack of refinement of the unit. This issue is regarding a small gap between the camber adjustment plate and the main shock tower mounting plate as denoted by the arrows in the image below.\nThis will not be a problem for people who live in a dry climate, but I think the product can be refined a bit if the camber plate\u0026rsquo;s diameter were increased ever so slightly to seal that gap to prevent water from splashing up into the engine bay during any sort of inclement weather.\nIssue 2: Front Endlinks The second, and biggest issue I had during the installation is the inability to use OEM length sway bar end links. This issue is compounded more by the fact the kit does not come with a custom set of endlinks to make it work. I find this a huge oversight in this kit especially since it is marketed to be an OEM+ solution for those who intend to daily drive the car and conesquently are more likely to retain the factory ride height.\nTo better illustrate this issue, I have noted the problem in the image below with the OEM shock/spring side by side with the ECS coilovers.\nI have denoted the distance between the endlink mounting hole to the place on the shock mount that is required to maintain the stock ride height. The distance in lime green for the ECS coils and the distance in red for the OEM shock are vastly different, which prevents the use of OEM length endlinks. The OEM length front endlinks measure about 27cm from bolt to bolt while the ECS coilover endlink that I had to source from Amazon ended up being around 8-10cm from bolt to bolt.\nIn my opinion, this is a huge problem with this coilover kit that prevents it from being a complete kit for an OEM oriented setup. I think ECS should specifiy the details of this better on their product page or change the marketing altogether as it is not daily driver friendly installation wise. The other option is to include the custom length endlinks that work with stock to minor drop in ride height (I\u0026rsquo;m talking very minor drop like 2-4cm).\nPerformance Review Getting it Configured This was my first time installing coilovers on any car, so naturally despite all my efforts of trying to make it as stock as possible, the ride height was messed up - very badly. I\u0026rsquo;ve been told this is what\u0026rsquo;s known as a \u0026ldquo;Carolina lean.\u0026rdquo; Nonetheless, the car was dropped off at a local BMW speciality shop that remedied the suspension back to stock height, camber, and basic spring preload setting. The adjustable damper knob on all 4 were also set to the max soft setting.\nBefore\nAfter\nAs mentioned earlier, my performance review of these coilovers place a heavier importance on comfort and daily driver performance over track and spirited driving as that is my priority.\nHow Do They Perform? As of this article\u0026rsquo;s publication date, I have now put close to 400 miles on the ECS Tuning coilovers riding on stock 16in 205 wide BMW Style 5 wheels and General GMAX-RS tires. I have driven the car on rough city roads, smooth highways, and some mild twisties. My summary of these coils in various segments are as follow:\nComfort: very rough on normal road imperfections, fine on smooth highways Handling: the car remains flat and composed through the curves and notably increases the performance envelope. NVH: the roughness of the coilovers seem to transmit more noise through the cabin, especially over bumps. Value: for ~$700, they are not a bad deal if you are willing to sacrifice comfort. I think they\u0026rsquo;d be great for autox and track days Final Verdict Overall, the ECS Tuning coilover kit for the non M E46 is a decent kit tarnished by poor/improper marketing and the lack of suitable endlinks to reflect the marketing for daily drivers. The paint finish is very nice and all the parts bolted to the car without any issue. These are coilovers, so I cannot critize this kit too much for the lack of comfort. However, I think the product description should not emphasize the daily driver aspect and supposed \u0026ldquo;increase in comfort\u0026rdquo; gained from these coilovers.\nIt was a nice experience learning about suspension tuning and setup, but I have decided that I will be returning to OEM Bilstein or equivalent shocks/dampers for next year\u0026rsquo;s summer driving season on this car.\n","description":"Review of the revised ECS Tuning coilovers for the E46","id":6,"section":"posts","tags":["BMW","E46","suspension"],"title":"BMW E46 ECS Tuning Coilover Review","uri":"/en/posts/2021_10_24_bmw-e46-ecs-tuning-coilover-review/"},{"content":"Intro When I picked up my E46 coupe from the seller and drove it home, I noticed the power steering system would make a groaning noise whenever I turned the wheel at a standstill or low speeds. Now that I have the car on jacks, I decided to replace the entire power steering system (hoses, reservoir, and powers steering pump).\nThe OEM pump that\u0026rsquo;s in my car is the LUK LF20 style pump. On the various forums, this pump is better regarded in terms of steering feel but has a mechanical flaw in the vane to shaft design that causes it to shear off. With this in mind, I opted to take the cheap upgrade route to a LF-30 upgraded style pump. Here is some information about the upgrade you might find useful.\nImportant Upgrade Information The car I performed this upgrade on is a 2001 325Ci that comes stock with the less robust LF-20 pump. The replacement LF-30 pump I got is a cheap, aftermarket one from Amazon. I took a gamble on this simply because the Meyle version I wanted was not in stock and I did not want to wait. The price was also reasonable and I am hoping the better design even on a cheap aftermarket copy will suffice.\nThe Amazon LF-30 style pump I chose to install.\nDue to the different design, cars that came with the OEM LF-30 pump have different style brackets. My concern for this upgrade was whether I would be able to use the LF-20 style mounting brackets on the new LF-30 pump.\nThe OEM LF-20 pump removed before cleaning\nThe aftermarket LF-30 pump with the OEM LF-20 front bracket intalled\nTo my pleasant surprise, the LF-20 front bracket fits without an issue. The only issue is the rear bracket. While the rear bracket can be bolted to the pump, the bracket does not line up with the bolt hole on the engine block. A custom bolting solution will be needed for the rear bracket.\nRear bracket\nThe rear bracket\u0026rsquo;s mounting hole to the engine block does not line up\n","description":"Useful information on the power steering pump upgrade","id":7,"section":"posts","tags":["BMW"],"title":"E46 LF20 to LF30 Upgrade","uri":"/en/posts/2021_05_16_e46-lf20-to-lf30-upgrade/"},{"content":"Wiring Color Guide This color guide has been accurate when replacing the factory speaker and amplifier in my 2004 330Ci and 2001 325Ci. To double check, you can simply test continuity with a multimeter.\nGrey ¬Ω of connector\nPin # 13 / Tweeter Rear Right door + * Yellow Pin # 21 / Tweeter Rear Right door - *Blue / yellow\nPin # 12 / Tweeter Front Right - Blue / Brown Pin #20 / no connection\nPin # 11 / Tweeter Front Right + Blue / black Pin #19 / no connection\nPin # 10 / Switched +12v remote turn on White Pin #18 / no connection\nPin # 9 / Head unit output Front Right + Blue / red Pin #17 / Head unit output Front Right - Brown / orange\nPin # 8 / Head unit output Rear Right + Blue / black Pin #16 / Head unit output Rear Right - Brown / orange\nPin # 7 / no connection Pin #15 / no connection\nPin # 6 / no connection Pin #14 / no connection\nPin # 5 / +12v factory amp +12v supply *Red / green\nPin # 4 / Woofer Front Left +Blue / white\nPin # 3 / Woofer Front Left -Blue / brown\nPin # 2 / Woofer Rear Left +Yellow\nPin # 1 / Woofer Rear Left -Brown\nBlack ¬Ω of connector\nPin # 34 / Tweeter Front Left - Yellow / brown Pin # 42 / Mid Front Right door + *Green\nPin # 33 / Tweeter Front Left + Yellow / red Pin #41 / Mid Front Right door - *Blue / green\nPin # 32 / Tweeter Rear left door - * Yellow / brown Pin #40 / Mid Front left door + *White\nPin # 31 / Tweeter Rear Left door + * Yellow / black Pin #39 / Mid Front left door - *Blue / white\nPin # 30 / Head output Front left - Brown / orange Pin #38 / Head output Front Left + Yellow / red\nPin # 29 / Head output Rear Left - Brown / orange Pin #37 / Head output Rear Left + Yellow / black\nPin # 28 / no connection Pin #36 / no connection\nPin # 27 / no connection Pin #35 / no connection\nPin # 26 / DC ground factory ampBrown\nPin # 25 / Woofer Rear Right +Blue\nPin # 24 / Woofer Rear Right -Brown\nPin # 23 / Woofer Front Right +Blue / Red\nPin # 22 / Woofer Front Right -Blue / Brown\nSource https://www.bimmerforums.com/forum/showthread.php?1403303-e46-radio-stereo-wiring-diagram ","description":"Wiring guide for the E46 sound system","id":8,"section":"notes","tags":[""],"title":"E46 Stereo Wiring","uri":"/en/notes/2021_03_25_e46-stereo-wiring/"},{"content":"Backstory During the summer of last year in height of the covid fiasco and right after the hurricane, I had the brilliant idea to buy this 2001 BMW 325Ci coupe. I had found this on the e46fanatics forum\u0026rsquo;s classifieds section and was immediately enamored by the Tannin red interior paired with Alpine white exterior. Initially, I was convincing myself to not even consider inquiring and focus on my already present 2004 330Ci convertible. I let a week go by hoping someone else would have bought it to save me the internal torment, but to my elatement, the forum post still indicated it hadn\u0026rsquo;t sold. After some quick rationalizations about enjoying life to the fullest and recouping monetary losses of the potential purchase, I bit the bullet and contacted the owner.\nTo my surprise yet again, I received confirmation the car was still for sale. With my resolve strengthened to buy the car, I proceeded to make an offer and eventually we came to an agreeable price. I sent a deposit for the owner to hold the car, booked my one way flight to Texas, and flew out the following week.\nFor the mileage - 186,000 miles - the car is in amazing condition with paint having minimal blemishes and only a few rock chips on the bonnet. The car is a base model 325Ci fitted with comfort seats, the Getrag 5mt, Xenons, and no extra automatic features. Even the HVAC is the most basic model with the rotary dials.\nThe road trip back to the Midwest was very scenic and much needed as I was able to explore eastern, greener side of Texas and the Texan road warrior hallmark: Buc-ee\u0026rsquo;s. The car, with its high miles, unknown service history, mismatched tires, and who knows what else, survived a couple southern summer torrents and made it back without leaving me stranded.\nThe E46 Coupe During the drive, I naturally was fiddling with the radio and to my suprise found a nice CD the previous owner had forgotten.\nProject Plans Given the complete absence of service records, I plan to give this coupe the full works for its refreshal to make it good for another 100k miles. The TODO list in no particular order is:\nfull cooling system and hard pipes under manifold ignition service (hopefully only spark plugs) front and rear suspension refresh (FCAB) ECStuning coilovers later on, rear subframe and floor reinforcements welded flatten front strut tower and reinforce plates full radio and speaker refresh interior deep clean and detailing headliner repair front bumper fix and repair oil pan gasket replace clutch and flywheel brake hose and caliper rebuilds and paint replace windshield trim/moulding replace and fix rear window seal replace broken driver\u0026rsquo;s door lock actuator repair broken tab on passenger side skirt retrofit volt meter array in center console new tires ","description":"Planning out the refresh for my E46 coupe summer daily","id":9,"section":"posts","tags":["BMW"],"title":"The High Mileage E46 Coupe Project","uri":"/en/posts/2021_03_15_the-high-mileage-e46-coupe-project/"},{"content":"Archiving Archive and compress files to tar and xz 1 tar -I pxz -cf NAME-OF-COMPRESSED-FILE.tar.xz SOURCEDIRECTORY/ When using pigz for parallel gz compresion 1 tar -c --use-compress-program=pigz -f NAME.tar.gz directory/ Create tar.xz with more options The -9 signifies compression level from 1 - 9, with 9 being highest compression. It is preferable to use 4-5 for best peformance to compression tradeoff. The -T is CPU cores. 0 uses all cores.\n1 tar -c -I \u0026#39;xz -9 -T0\u0026#39; -f archivename.tar.xz filesAndor directories/ General Disk Management These can be useful when managing a remote server\nView disk info on system 1 sudo lsblk -o NAME,SIZE,FSTYPE,LABEL,UUID,MOUNTPOINT Manage disk with fdisk Where {} is the identifier for the disk of interest\n1 sudo fdisk /dev/sd{} Get disk UUID and info 1 sudo blkid Format new partition to ext4 Where x is the disk identifier and n is the partition number\n1 sudo mkfs.ext4 /dev/sdxn Change partition label 1 sudo e2label /dev/sdxn NAME Fun with directories Replace all directory names with spaces with underscores 1 for f in *\\ *; do mv \u0026#34;$f\u0026#34; \u0026#34;${f// /_}\u0026#34;; done ","description":"Random but useful Linux bash commands","id":11,"section":"notes","tags":["linux"],"title":"Useful Bash Commands","uri":"/en/notes/2021_03_07_useful-bash-commands/"},{"content":"THIS POST IS DEPRECATED. PLEASE VISIT THE UPDATED VERSION HERE: https://www.spiffygoose.com/en/posts/2021_12_25_revised-mikrotik-rb2011-series-vlan-guide/\nMotivation To increase the security of my property, I decided to install IP surveillence cameras in high traffic areas. However, being the OCD and cheapskate I am, I wanted to retain full control while maintaining a reasonable budget. This meant deploying cheap Chinese brand cameras that will undoubtedly be phoning home - which has to be addressed on the network through virtual local area networks (VLANS). By implementing VLANs, I not only have an excuse to upgrade to newer networking hardware, but also will be greatly increasing my overall home network security.\nFormerly running a basic Netgear router, the first step was to find a suitable replacement. My internet searches led to me a few options: diy Pfsense router, Mikrotik, or Ubiquity EdgeRouter. After careful consideration, I ultimately decided on purchasing a Mikrotik RB2011 series router. As with any choice, the compromise here is that Mikrotik\u0026rsquo;s settings configuration is not as intuitive as Ubiquity\u0026rsquo;s, but is offset by the cheaper price to performance + features.\nBecause Mikrotik routers might be confusing for beginners first using them, this post will attempt to provide a guide for how to setup VLANs, perhaps the most essential feature of any modern home nework, big or small.\nVLANs As Understood by a Monkey A VLAN is a virtual LAN that essentially acts as a subnet on a single network.\nAs the name suggests, it creates a virtual LAN to make it appear that there exist multiple networks on a single network. To provide sufficient background, I will define some terms needed for understanding:\nVLAN - is a logical grouping, or division of network traffic at the data link layer (layer 2) that divides by broadcast domain router - is a device that connects two or more networks and trasfers data among them switch - is a device on a network that connects other devices on the same network broadcast domain - is broadcasting, the act of sending a signal to all devices on a particular network segment. Every VLAN has its own broadcast domain. Each VLAN is defined by a VLAN ID that is appended to the packets exiting devices on a defined VLAN port on a switch. This ID is used by the VLAN table on the router and switch(es) to keep network traffic segregated. In order to allow traffic between certain VLANs, firewall rules have to be defined to allow inter-VLAN routing.\nSetting up a Virgin Mikrotik Router The process assumes one is starting from a bone stock router with default factory settings. This process is for the RB2011 series router that contains a seperate switch chip, which requires a slightly different configuration compared to using bridges to create VLANs.\nTo start, login to the router via the Winbox utility. For the initial login, select the MAC address as the router ID. The default user is \u0026ldquo;admin\u0026rdquo; and the password is empty. Make sure to update the password.\nCreate New VLANs First, create the new VLAN interface by selecting the \u0026ldquo;Interfaces\u0026rdquo; button in the column menu on the left. With the Interface List window open, select the \u0026ldquo;VLAN\u0026rdquo; tab -\u0026gt; + icon and create the new VLAN. The important fields to fill out are:\nName - the name of the VLAN VLAN ID - this is the integer identifier used for tagging traffic that belongs to this VLAN. 1 is the default so you want to change it to something like 10, 20, 30, etc. Interface - is source interface the VLAN comes from. In this case, we will be using all the ports on the LAN, which correponds to the default \u0026ldquo;bridge\u0026rdquo; interface in the dropdown menu. Interface Menu\nAdd new VLAN\nAdd IP Addresses for VLANs Next, we need create an address range for the newly created VLAN. Select \u0026ldquo;IP\u0026rdquo; -\u0026gt; \u0026ldquo;Addresses\u0026rdquo; from the column menu. Click the + to add a new address. The two selections to fill out are:\nAddress - the address range. You can choose whatever you would like. An example range would be 192.168.60.1/24, which signifies the range of addresses from 192.168.60.1-255. Interface - will be the VLAN interface we created earlier. Create DHCP Servers for VLANs Next, select from the menu \u0026ldquo;IP\u0026rdquo; -\u0026gt; \u0026ldquo;DHCP Server\u0026rdquo; and the \u0026ldquo;DHCP\u0026rdquo; tab. Here, the virtual DHCP server for the VLAN is created by going through the handy wizard by clicking the \u0026ldquo;DHCP Setup.\u0026rdquo; Follow the wizard and ensure the interface is the VLAN interface and the correct IP address range.\nChange name of Address Pool (Optional) The DHCP server wizard automatically creates the Address Pool and sets a default name. If so inclined, the name can be changed by selecting \u0026ldquo;IP\u0026rdquo; -\u0026gt; \u0026ldquo;Pool\u0026rdquo; from the column menu.\nIf using a custom DNS server for the VLAN, it can be changed by selecting the \u0026ldquo;Networks\u0026rdquo; tab in the DHCP Server window. Double click the address range that corresponds to the VLAN and input in the custom DNS server IP.\nConfigure Switch Chip Next, we need to actually tell the router which of its physical ports belong to a particular VLAN. Because the RB2011 and 3011 series routers have hardware switch chips that handle this, it is best to take advantage of them and configure hardware VLANs via the switch chips.\nIn the column menu, select \u0026ldquo;Switch\u0026rdquo; -\u0026gt; \u0026ldquo;VLAN\u0026rdquo; to assign VLAN ID(s) to a port.\nClick the + to add assign port(s) to a VLAN. In this case, the RB2011 has two switch chips. Switch1 controls eth1-5 and switch2 controls eth6-10. In the image above, I have added some rules already. Let\u0026rsquo;s break down the first rule. On switch1, there\u0026rsquo;s VLAN ID of 107 on ports ether4, switch1 cpu. This effectively tells the switch chip that port ether4 that it belongs on the VLAN 107 network. Note, it is important to select switch1 cpu for this to work.\nNext, select the Port tab for additional configuration.\nLet us continue with the example of adding VLAN 107 to ether4. Double click the ether4 row to edit its settings. In this case, I want all traffic from port 4 to be exclusively part of VLAN 107, so VLAN Mode has to be set to secure. VLAN Header has to be \u0026ldquo;always strip\u0026rdquo; becasue this is an access port and thus the VLAN tag must be removed on egress traffic. Lastly, because this is an acess port, the Default VLAN ID must be defined, which in this case is 107.\nBefore moving on, we must configure switch1_cpu as well. In my case, I have tagged and untagged traffic that is handled by switch1\u0026rsquo;s ports, so set VLAN Mode to fallback. VLAN Header must be \u0026ldquo;leave as is\u0026rdquo; because we have hybrid ports and default VLAN ID is 1. For further information on switch chip features, see the official Mikrotik Wiki: https://wiki.mikrotik.com/wiki/Manual:Switch_Chip_Features.\nFirewall Rules Lastly, and most importantly we must define the firewall rules to ensure VLAN network security. But before this, I like to define interface lists for the VLANs to make it easier and safer when defining firewall rules.\nInterface Lists To create an interface list, select Interface -\u0026gt; Interface List from the column menu. Then click the \u0026ldquo;Lists\u0026rdquo; button to open up the \u0026ldquo;Interface Lists\u0026rdquo; window. Press the + to create a new interface list and simply give it a name and press ok.\nThis newly created list will appear in the Interface Lists window\u0026rsquo;s list. As can be seen, I have GUEST, IP Cams, and IoT in addition to the defconf lists. Exit the interface lists window and in the interface list tab, press the + to add a new interface list member. Choose the list name and select the VLAN interface for which it belongs to. Presto done.\nEssential Firewall Rules Now select IP -\u0026gt; Firewall to add the additional firewall rules to take advantage of VLANs and enable intervlan routing. The first rule I like to add is to allow the LAN access to the internet. You may wonder why when there is already internet access. This is to preempt the next rule which is a blanket blocking of all undefined connections.\nClick the blue + to add the new rule. In the Firewall Rule window -\u0026gt; General, ensure Chain is foward. In Interface List is LAN and Out Interface List is WAN. Under the action tab, ensure accept is selected. To allow intervlan routing between the LAN and the VLAN, you will use the same exact setting, but replace the Out Interface List with the name of the VLAN interface list create above.\nThe last and most important rule is to block all other traffic.\nAdd a new rule via the blue + with the following settings:\nGeneral -\u0026gt; chain: forward Action -\u0026gt; drop Comment these rules to your desire for readability. That is all, you have implemented VLANs on a Mikrotik router!\nReferences https://www.computernetworkingnotes.com/ccna-study-guide/vlan-basic-concepts-explained-with-examples.html https://wiki.mikrotik.com/wiki/Manual:Switch_Chip_Features ","description":"Guide on setting up VLANs on the Mikrotik RB2011 router via Winbox utility","id":12,"section":"posts","tags":["networking","mikrotik"],"title":"Mikrotik Rb2011 VLAN Guide (Winbox) [DEPRECATED]","uri":"/en/posts/2021_02_24_mikrotik-rb2011-vlan/"},{"content":"Why Did I Buy It? I have been driving my 10th gen Honda Civic for a few years now, but never ended up feeling attached to it since buying my E46 330Ci a couple years ago. Since getting a taste of the BMW experience, I have also been wanting of a more luxurious car that offers great dynamics, ergonomics, and comfort (NVH is a huge letdown in the Civic). Or it could be me just getting old. Replacing a modern Honda with an old BMW, crazy huh?\nDuring my online searches, I came across a very reasonably priced 1999 740iL very close to me that I absolutely had to check out. Upon talking to the owner and doing a cursory inspection to the best of my abilities, the little gremlin in my mind was already telling me to buy it. So, I bought it the following week and I do not regret it at all.\nThe E38 Current Issues Naturally, any neglected or even slightly neglected BMW will present itself with problems. As the images indicate, the main visual flaw is the damaged front bumper, fog lights, and ambient temperature sensor. Inside the car, the instrument cluster indicates the infamous \u0026ldquo;trifecta\u0026rdquo; that points to a faulty ABS module. The interior headliner is also drooping in several areas and the HID lowbeams are throwing an error. However, all the major items (eg radio display, MID, almost all speakers, cup holders, 12V power outlet) work without issue. The MID is showing showing some dead pixels however.\nProject Plans for 2021 I intend to address all main issues warranted of a BMW of this vintage starting early spring of 2021. The goal is to proof the E38 so that it can supplant my Honda as my daily driver. To make this possible, the following is the current plan of action for the car in no particular order:\nfull cooling system refresh (yes I know absolutely mandatory for these BMWs üòú) will be testing the Chinese made Rein expansion tank from FCPEuro to save a little compared to the BMW OEM one timing chain guide and tensioner job and ancilliary components for the M62TUB44 full suspension refresh control arms and all bushings BC Racing coilovers all fluids replace Redline ATF for ZF auto transmission Castrol engine oil radio/head unit replacement with new amp and speakers review of Crutchfield 5Ch PicoNano amp in the future single din Pioneer or Sony to replace the stock tape deck and DSP unit retrofit rear deck 5.25in woofers with something different interior deep clean headliner replacement send ABS module for rebuilding replace front bumper and bumper liner + repaint replace fog lights and lowbeam headlights polish headlights and apply coating retrofit a new 12V cigarette outlet with voltmeter + 12V lube window regulators new wheels and tires for spring through autumn seasons re-affix window trim and door trim and replenish any rubber seals replace missing jack pads 2x new brakes (pads, rotors, caliper rebuild, fluids) and stainless steel lines replace parking brake handle or modify existing broken one to make more robust remove old window tint and get new tint maybe This car is very much a learning experience for me and I will be documenting the process in this blog series. In the meantime, we wait for the temperatures to rise! ‚ùÑÔ∏è ‚ùÑÔ∏è ‚ùÑÔ∏è\n","description":"Introducing my new BMW that will become my new daily driver.","id":13,"section":"posts","tags":["BMW","E38"],"title":"My New E38 Project","uri":"/en/posts/2021_02_19_new-e38/"},{"content":"Hello, welcome to my blog. I am SpiffyGoose, a monkey with a computer. In this little website I have random guides about old BMWs and networking technology.\n","description":"A test about","id":15,"section":"","tags":null,"title":"About","uri":"/en/about/"}]